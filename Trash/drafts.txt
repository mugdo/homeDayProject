package main

import (
	"fmt"
	"backEnd"
	"net/http"
	"github.com/gorilla/mux"
)

func main() {
	//(instead of default 'http' router) using Gorilla mux router
	r := mux.NewRouter()

	//just a message for ensuring that local server is running
	fmt.Println("Local Server is running...")

	//for serving perspective pages
	r.HandleFunc("/", giveservice.Index)
	r.HandleFunc("/problem", giveservice.Problem)
	r.HandleFunc("/login", giveservice.Login)
	r.HandleFunc("/loginCheck", giveservice.LoginCheck)
	r.HandleFunc("/redirect", giveservice.Redirect)
	r.HandleFunc("/logout", giveservice.Logout)
	r.HandleFunc("/about", giveservice.About)
	r.HandleFunc("/contact", giveservice.Contact)


	//for serving javascripts & css files
	r.PathPrefix("/assests/").Handler(http.StripPrefix("/assests/", http.FileServer(http.Dir("assests"))))
	
	//for localhost server
	http.ListenAndServe(":80", r)
}

//json parse
		type res struct {
			runID int
		}

		var rid res
		json.Unmarshal([]byte(body), &rid)

		fmt.Println(rid.runID)